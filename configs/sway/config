### Sway Config (Nord themed) ###
# Mod key: keep Mod4, but Altâ†”Win swap makes Alt act as Mod
set $mod Mod4


font pango:JetBrainsMono Nerd Font 11


input * {
xkb_layout us
xkb_options altwin:swap_alt_win
tap enabled
natural_scroll enabled
}


# Solid Nord background
exec_always --no-startup-id swaybg -m solid_color -c '#2E3440'


# Wayland/systemd env
exec_always --no-startup-id dbus-update-activation-environment --systemd DISPLAY WAYLAND_DISPLAY SWAYSOCK XDG_CURRENT_DESKTOP=sway
exec_always --no-startup-id systemctl --user import-environment DISPLAY WAYLAND_DISPLAY SWAYSOCK XDG_CURRENT_DESKTOP


# Idle/lock
exec --no-startup-id swayidle -w \
timeout 300 'swaylock -f -c 2E3440' \
timeout 1800 'systemctl suspend' \
resume 'swaymsg "output * power on"' \
before-sleep 'swaylock -f -c 2E3440'


# Keybindings (Alt is $mod due to swap)
bindsym $mod+Return exec foot
bindsym $mod+Shift+Return exec kitty
bindsym $mod+d exec rofi -show drun
bindsym $mod+q kill
bindsym $mod+Shift+e exec swaynag -t warning -m 'Exit Sway?' -b 'Yes' 'swaymsg exit'


# Screenshots
bindsym Print exec grim -g "$(slurp)" - | swappy -f -
bindsym Shift+Print exec grim ~/Pictures/screenshot-$(date +%F-%H%M%S).png


# Audio / Brightness
bindsym XF86AudioRaiseVolume exec wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
bindsym XF86AudioLowerVolume exec wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindsym XF86AudioMute exec wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindsym XF86AudioMicMute exec wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bindsym XF86MonBrightnessUp exec brightnessctl set +5%
bindsym XF86MonBrightnessDown exec brightnessctl set 5%-


# Start Waybar too (belt & braces)
exec_always --no-startup-id waybar